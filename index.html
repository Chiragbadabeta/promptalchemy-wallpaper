<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptAlchemy Wallpaper - Premium HD Wallpapers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
/* ==================== VARIABLES ==================== */
:root {
    --primary: #00d4ff;
    --secondary: #9d4edd;
    --accent: #ff006e;
    --success: #00ff88;
    --error: #ff3366;
    --bg-dark: #0a0a0f;
    --bg-darker: #050508;
    --text-light: #ffffff;
    --text-gray: #a0a0a0;
    --card-bg: rgba(20, 20, 30, 0.95);
    --glow: rgba(0, 212, 255, 0.5);
}

[data-theme="light"] {
    --bg-dark: #f5f5f5;
    --bg-darker: #e0e0e0;
    --text-light: #1a1a1a;
    --text-gray: #666666;
    --card-bg: rgba(255, 255, 255, 0.95);
}

/* ==================== BASE ==================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Rajdhani', sans-serif;
    background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-darker) 100%);
    color: var(--text-light);
    overflow-x: hidden;
    line-height: 1.6;
    min-height: 100vh;
}

/* ==================== NAVIGATION ==================== */
.navbar {
    position: fixed;
    top: 0;
    width: 100%;
    background: var(--card-bg);
    backdrop-filter: blur(20px);
    z-index: 1000;
    border-bottom: 2px solid rgba(0, 212, 255, 0.3);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.nav-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: 1rem;
    cursor: pointer;
}

.logo-icon {
    font-size: 2rem;
}

.logo-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 900;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.nav-links {
    display: flex;
    list-style: none;
    gap: 2rem;
    align-items: center;
}

.nav-link {
    color: var(--text-light);
    text-decoration: none;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9rem;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    padding: 0.5rem 1rem;
    cursor: pointer;
}

.nav-link:hover {
    color: var(--primary);
}

.theme-toggle {
    background: transparent;
    border: 2px solid var(--primary);
    color: var(--primary);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.2rem;
    transition: all 0.3s ease;
}

.theme-toggle:hover {
    background: var(--primary);
    color: white;
}

.user-badge {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.5rem 1rem;
    background: rgba(0, 212, 255, 0.1);
    border: 1px solid var(--primary);
    border-radius: 8px;
}

/* ==================== BUTTONS ==================== */
.btn {
    padding: 0.8rem 2rem;
    font-family: 'Rajdhani', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    border-radius: 8px;
    display: inline-block;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    box-shadow: 0 4px 15px var(--glow);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px var(--glow);
}

.btn-secondary {
    background: transparent;
    color: var(--primary);
    border: 2px solid var(--primary);
}

.btn-secondary:hover {
    background: var(--primary);
    color: white;
}

.btn-danger {
    background: linear-gradient(135deg, var(--error), #d00000);
    color: white;
}

.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none !important;
}

/* ==================== PAGES ==================== */
.page {
    display: none;
    min-height: 100vh;
    padding-top: 80px;
}

.page.active {
    display: block;
}

/* ==================== HOME PAGE ==================== */
.hero {
    min-height: 90vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 4rem 2rem;
}

.hero-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 5rem;
    font-weight: 900;
    margin-bottom: 1rem;
    background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: glow 2s ease-in-out infinite;
}

@keyframes glow {
    0%, 100% { filter: drop-shadow(0 0 20px var(--glow)); }
    50% { filter: drop-shadow(0 0 40px var(--glow)); }
}

.hero-subtitle {
    font-size: 1.5rem;
    color: var(--text-gray);
    margin-bottom: 2rem;
}

.hero-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
    flex-wrap: wrap;
    justify-content: center;
}

.stats {
    display: flex;
    gap: 4rem;
    margin-top: 4rem;
    flex-wrap: wrap;
    justify-content: center;
}

.stat-card {
    background: var(--card-bg);
    padding: 2rem;
    border-radius: 12px;
    border: 2px solid rgba(0, 212, 255, 0.2);
    min-width: 150px;
    transition: all 0.3s ease;
}

.stat-card:hover {
    border-color: var(--primary);
    transform: translateY(-5px);
}

.stat-number {
    font-family: 'Orbitron', sans-serif;
    font-size: 3rem;
    font-weight: 900;
    color: var(--primary);
}

.stat-label {
    color: var(--text-gray);
    text-transform: uppercase;
    font-size: 0.9rem;
    margin-top: 0.5rem;
}

/* ==================== GALLERY ==================== */
.section {
    padding: 4rem 2rem;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
}

.section-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 3rem;
    font-weight: 900;
    text-align: center;
    margin-bottom: 3rem;
}

.highlight {
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.search-section {
    background: rgba(0, 0, 0, 0.2);
    padding: 2rem;
    margin-bottom: 2rem;
    border-radius: 12px;
}

.search-container {
    display: flex;
    gap: 1rem;
    max-width: 800px;
    margin: 0 auto 1rem;
}

.search-input {
    flex: 1;
    padding: 1rem;
    background: var(--card-bg);
    border: 2px solid rgba(0, 212, 255, 0.3);
    color: var(--text-light);
    font-family: 'Rajdhani', sans-serif;
    font-size: 1rem;
    border-radius: 8px;
}

.search-input:focus {
    outline: none;
    border-color: var(--primary);
}

.filter-container {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.filter-select {
    padding: 0.8rem 1.5rem;
    background: var(--card-bg);
    border: 2px solid rgba(0, 212, 255, 0.3);
    color: var(--text-light);
    font-family: 'Rajdhani', sans-serif;
    border-radius: 8px;
    cursor: pointer;
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.wallpaper-card {
    position: relative;
    height: 400px;
    background: var(--card-bg);
    border: 2px solid rgba(0, 212, 255, 0.2);
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
}

.wallpaper-card:hover {
    transform: translateY(-10px);
    border-color: var(--primary);
    box-shadow: 0 10px 40px var(--glow);
}

.wallpaper-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.wallpaper-card:hover .wallpaper-image {
    transform: scale(1.1);
}

.wallpaper-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 1.5rem;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.95), transparent);
    transform: translateY(100%);
    transition: transform 0.3s ease;
}

.wallpaper-card:hover .wallpaper-overlay {
    transform: translateY(0);
}

.wallpaper-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.2rem;
    font-weight: 700;
    color: white;
    margin-bottom: 0.5rem;
}

.wallpaper-info {
    display: flex;
    justify-content: space-between;
    margin-bottom: 1rem;
    color: var(--text-gray);
    font-size: 0.9rem;
}

.wallpaper-actions {
    display: flex;
    gap: 0.5rem;
}

.wallpaper-actions .btn {
    flex: 1;
    padding: 0.6rem;
    font-size: 0.9rem;
}

/* ==================== LOGIN PAGE ==================== */
.login-container {
    max-width: 450px;
    margin: 4rem auto;
    padding: 3rem;
    background: var(--card-bg);
    border: 2px solid rgba(0, 212, 255, 0.3);
    border-radius: 16px;
    box-shadow: 0 10px 50px rgba(0, 212, 255, 0.3);
}

.login-logo {
    text-align: center;
    margin-bottom: 2rem;
}

.login-logo-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.login-logo-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 2rem;
    font-weight: 900;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.tabs {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
}

.tab {
    flex: 1;
    padding: 1rem;
    background: transparent;
    border: 2px solid rgba(0, 212, 255, 0.3);
    color: var(--text-gray);
    font-family: 'Rajdhani', sans-serif;
    font-weight: 600;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s ease;
    text-transform: uppercase;
}

.tab.active {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    border-color: transparent;
}

.form-section {
    display: none;
}

.form-section.active {
    display: block;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-label {
    display: block;
    margin-bottom: 0.5rem;
    color: var(--text-gray);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9rem;
}

.form-input {
    width: 100%;
    padding: 1rem;
    background: rgba(10, 10, 15, 0.8);
    border: 2px solid rgba(0, 212, 255, 0.3);
    color: var(--text-light);
    font-family: 'Rajdhani', sans-serif;
    font-size: 1rem;
    border-radius: 8px;
    transition: all 0.3s ease;
}

.form-input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 20px var(--glow);
}

.message {
    margin-top: 1rem;
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    font-weight: 600;
    display: none;
}

.message.success {
    background: rgba(0, 255, 136, 0.1);
    border: 1px solid rgba(0, 255, 136, 0.3);
    color: var(--success);
}

.message.error {
    background: rgba(255, 51, 102, 0.1);
    border: 1px solid rgba(255, 51, 102, 0.3);
    color: var(--error);
}

/* ==================== ADMIN PAGE ==================== */
.admin-header {
    text-align: center;
    margin-bottom: 3rem;
}

.admin-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 3rem;
    font-weight: 900;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.upload-section {
    background: var(--card-bg);
    border: 2px solid rgba(0, 212, 255, 0.3);
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 3rem;
}

.section-subtitle {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.8rem;
    color: var(--primary);
    margin-bottom: 1.5rem;
}

/* ==================== ADVANCED UPLOAD SECTION ==================== */
.upload-tips {
    background: rgba(0, 212, 255, 0.05);
    border: 1px solid rgba(0, 212, 255, 0.2);
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1.5rem;
}

.upload-tips h4 {
    color: var(--primary);
    margin-bottom: 0.5rem;
    font-size: 1rem;
}

.upload-tips ul {
    margin-left: 1.5rem;
    color: var(--text-gray);
    font-size: 0.9rem;
}

.upload-tips li {
    margin-bottom: 0.3rem;
}

.drag-drop-area {
    border: 3px dashed rgba(0, 212, 255, 0.3);
    border-radius: 12px;
    padding: 3rem 2rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    background: rgba(0, 212, 255, 0.02);
    position: relative;
}

.drag-drop-area:hover {
    border-color: var(--primary);
    background: rgba(0, 212, 255, 0.08);
    transform: scale(1.02);
}

.drag-drop-area.dragover {
    border-color: var(--success);
    background: rgba(0, 255, 136, 0.1);
    border-style: solid;
}

.drag-drop-area.has-files {
    border-color: var(--primary);
    border-style: solid;
}

.upload-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.upload-text {
    font-size: 1.2rem;
    color: var(--text-light);
    margin-bottom: 0.5rem;
    font-weight: 600;
}

.upload-subtext {
    color: var(--text-gray);
    font-size: 0.9rem;
}

.file-input-hidden {
    display: none;
}

.preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
    display: none;
}

.preview-grid.show {
    display: grid;
}

.preview-item {
    position: relative;
    border: 2px solid rgba(0, 212, 255, 0.3);
    border-radius: 8px;
    overflow: hidden;
    background: rgba(10, 10, 15, 0.8);
}

.preview-image {
    width: 100%;
    height: 150px;
    object-fit: cover;
}

.preview-info {
    padding: 0.5rem;
    font-size: 0.8rem;
    color: var(--text-gray);
}

.preview-name {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 0.3rem;
}

.preview-size {
    color: var(--primary);
}

.preview-remove {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: var(--error);
    color: white;
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.preview-remove:hover {
    transform: scale(1.1);
    box-shadow: 0 0 15px var(--error);
}

.file-info-section {
    background: rgba(0, 212, 255, 0.05);
    border: 1px solid rgba(0, 212, 255, 0.2);
    border-radius: 8px;
    padding: 1rem;
    margin-top: 1rem;
    display: none;
}

.file-info-section.show {
    display: block;
}

.file-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.file-info-item {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem;
    background: rgba(10, 10, 15, 0.5);
    border-radius: 4px;
}

.file-info-label {
    color: var(--text-gray);
    font-size: 0.9rem;
}

.file-info-value {
    color: var(--primary);
    font-weight: 600;
}

.quick-actions {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    flex-wrap: wrap;
}

.quick-action-btn {
    padding: 0.6rem 1.2rem;
    background: rgba(0, 212, 255, 0.1);
    border: 1px solid rgba(0, 212, 255, 0.3);
    color: var(--primary);
    font-family: 'Rajdhani', sans-serif;
    font-weight: 600;
    cursor: pointer;
    border-radius: 6px;
    transition: all 0.3s ease;
    font-size: 0.9rem;
}

.quick-action-btn:hover {
    background: rgba(0, 212, 255, 0.2);
    border-color: var(--primary);
}

.auto-detect-badge {
    display: inline-block;
    background: rgba(0, 255, 136, 0.1);
    border: 1px solid rgba(0, 255, 136, 0.3);
    color: var(--success);
    padding: 0.3rem 0.8rem;
    border-radius: 4px;
    font-size: 0.8rem;
    margin-left: 0.5rem;
}

.progress-bar {
    width: 100%;
    height: 40px;
    background: rgba(10, 10, 15, 0.8);
    border: 2px solid rgba(0, 212, 255, 0.3);
    border-radius: 8px;
    overflow: hidden;
    margin: 1rem 0;
    display: none;
}

.progress-bar.show {
    display: block;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    width: 0%;
    transition: width 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    color: white;
}

.upload-queue {
    margin-top: 1rem;
    display: none;
}

.upload-queue.show {
    display: block;
}

.queue-item {
    background: rgba(10, 10, 15, 0.8);
    border: 1px solid rgba(0, 212, 255, 0.3);
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.queue-icon {
    font-size: 2rem;
}

.queue-info {
    flex: 1;
}

.queue-name {
    font-weight: 600;
    margin-bottom: 0.3rem;
}

.queue-status {
    color: var(--text-gray);
    font-size: 0.9rem;
}

.queue-progress {
    width: 100%;
    height: 4px;
    background: rgba(0, 212, 255, 0.2);
    border-radius: 2px;
    overflow: hidden;
    margin-top: 0.5rem;
}

.queue-progress-fill {
    height: 100%;
    background: var(--primary);
    width: 0%;
    transition: width 0.3s ease;
}

/* ==================== SPINNER ==================== */
.spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top-color: white;
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* ==================== TOAST ==================== */
.toast-container {
    position: fixed;
    top: 100px;
    right: 20px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.toast {
    background: var(--card-bg);
    border: 2px solid;
    border-radius: 8px;
    padding: 1rem 1.5rem;
    min-width: 300px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    animation: slideIn 0.3s ease;
    display: flex;
    align-items: center;
    gap: 1rem;
}

@keyframes slideIn {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.toast.success { border-color: var(--success); }
.toast.error { border-color: var(--error); }

.toast-icon { font-size: 1.5rem; }
.toast-message { flex: 1; }
.toast-close {
    background: none;
    border: none;
    color: var(--text-gray);
    cursor: pointer;
    font-size: 1.2rem;
}

/* ==================== MODAL ==================== */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    z-index: 2000;
    justify-content: center;
    align-items: center;
    padding: 2rem;
}

.modal.active {
    display: flex;
}

.modal-content {
    background: var(--card-bg);
    border: 2px solid var(--primary);
    border-radius: 12px;
    padding: 2rem;
    max-width: 90%;
    max-height: 90%;
    overflow: auto;
    position: relative;
}

.modal-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    color: var(--text-light);
    font-size: 2rem;
    cursor: pointer;
}

.modal-image {
    max-width: 100%;
    max-height: 70vh;
    border-radius: 8px;
    margin-bottom: 1rem;
}

.modal-info {
    text-align: center;
}

.modal-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    color: var(--primary);
    margin-bottom: 0.5rem;
}

/* ==================== UTILITY ==================== */
.hidden { display: none !important; }
.text-center { text-align: center; }
.mt-2 { margin-top: 2rem; }

/* ==================== RESPONSIVE ==================== */
@media (max-width: 768px) {
    .hero-title { font-size: 3rem; }
    .section-title { font-size: 2rem; }
    .gallery-grid { grid-template-columns: 1fr; }
    .nav-links { display: none; }
    .preview-grid { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); }
}
    </style>
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo" onclick="showPage('home')">
                <span class="logo-icon">üé®</span>
                <span class="logo-text">PromptAlchemy</span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><span class="nav-link" onclick="showPage('home')">Home</span></li>
                <li><span class="nav-link" onclick="scrollToGallery()">Gallery</span></li>
                <li><span class="nav-link" id="loginNavLink" onclick="showPage('login')">Login</span></li>
                <li><span class="nav-link hidden" id="adminNavLink" onclick="showPage('admin')">Admin</span></li>
                <li>
                    <button class="theme-toggle" id="themeToggle">
                        <span id="themeIcon">üåô</span>
                    </button>
                </li>
                <li class="user-badge hidden" id="userBadge">
                    <span id="userEmail"></span>
                    <button class="btn btn-danger" onclick="logout()" style="padding: 0.5rem 1rem;">Logout</button>
                </li>
            </ul>
        </div>
    </nav>

    <!-- HOME PAGE -->
    <div id="homePage" class="page active">
        <section class="hero">
            <h1 class="hero-title">PromptAlchemy</h1>
            <p class="hero-subtitle">‚ú® Transform Your Screen Into Art ‚ú®</p>
            <p style="max-width: 700px; color: var(--text-gray); margin-bottom: 2rem;">
                Discover premium wallpapers. From cyberpunk to minimalist designs, find the perfect backdrop.
            </p>
            <div class="hero-buttons">
                <button class="btn btn-primary" onclick="scrollToGallery()">Explore Gallery</button>
                <button class="btn btn-secondary" onclick="showPage('login')">Upload Wallpaper</button>
            </div>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalWallpapers">0</div>
                    <div class="stat-label">Wallpapers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Categories</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalDownloads">0</div>
                    <div class="stat-label">Downloads</div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <div class="search-section">
                    <div class="search-container">
                        <input type="text" id="searchInput" class="search-input" placeholder="Search wallpapers...">
                        <button class="btn btn-primary" onclick="searchWallpapers()">Search</button>
                    </div>
                    <div class="filter-container">
                        <select id="categoryFilter" class="filter-select" onchange="filterWallpapers()">
                            <option value="all">All Categories</option>
                            <option value="cyberpunk">Cyberpunk</option>
                            <option value="abstract">Abstract</option>
                            <option value="minimal">Minimal</option>
                            <option value="nature">Nature</option>
                            <option value="luxury">Luxury</option>
                        </select>
                        <select id="resolutionFilter" class="filter-select" onchange="filterWallpapers()">
                            <option value="all">All Resolutions</option>
                            <option value="1920x1080">1920x1080</option>
                            <option value="2560x1440">2560x1440</option>
                            <option value="3840x2160">3840x2160 (4K)</option>
                        </select>
                    </div>
                </div>

                <h2 class="section-title">Featured <span class="highlight">Wallpapers</span></h2>
                <div class="gallery-grid" id="galleryGrid"></div>
                <div class="text-center mt-2">
                    <button class="btn btn-primary" id="loadMoreBtn" onclick="loadMore()">Load More</button>
                </div>
            </div>
        </section>
    </div>

    <!-- LOGIN PAGE -->
    <div id="loginPage" class="page">
        <div class="login-container">
            <div class="login-logo">
                <div class="login-logo-icon">üé®</div>
                <div class="login-logo-text">PromptAlchemy</div>
            </div>

            <div class="tabs">
                <button class="tab active" onclick="switchTab('login')">Login</button>
                <button class="tab" onclick="switchTab('signup')">Sign Up</button>
            </div>

            <div class="form-section active" id="loginSection">
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-input" id="loginEmail" required placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="loginPassword" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="btn btn-primary" id="loginBtn" style="width: 100%;">
                        <span id="loginBtnText">Login</span>
                    </button>
                    <div class="message" id="loginMessage"></div>
                </form>
            </div>

            <div class="form-section" id="signupSection">
                <form onsubmit="handleSignup(event)">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-input" id="signupName" required placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-input" id="signupEmail" required placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="signupPassword" required minlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" class="form-input" id="signupConfirm" required minlength="6" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    </div>
                    <button type="submit" class="btn btn-primary" id="signupBtn" style="width: 100%;">
                        <span id="signupBtnText">Create Account</span>
                    </button>
                    <div class="message" id="signupMessage"></div>
                </form>
            </div>

            <div style="text-align: center; margin-top: 2rem;">
                <span style="color: var(--primary); cursor: pointer;" onclick="showPage('home')">‚Üê Back to Home</span>
            </div>
        </div>
    </div>

    <!-- ADMIN PAGE -->
    <div id="adminPage" class="page">
        <div class="container">
            <div class="admin-header">
                <h1 class="admin-title">Admin Dashboard</h1>
                <p style="color: var(--text-gray);">Manage your wallpaper collection</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="adminTotalWallpapers">0</div>
                    <div class="stat-label">Total Wallpapers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="adminTotalDownloads">0</div>
                    <div class="stat-label">Total Downloads</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Categories</div>
                </div>
            </div>

            <div class="upload-section">
                <h2 class="section-subtitle">üöÄ Advanced Upload Center</h2>
                
                <div class="upload-tips">
                    <h4>üí° Quick Tips:</h4>
                    <ul>
                        <li>‚úÖ Drag & drop multiple images at once</li>
                        <li>‚úÖ Resolution auto-detected from image</li>
                        <li>‚úÖ Supports JPG, PNG, WebP (max 10MB each)</li>
                        <li>‚úÖ Preview before uploading</li>
                        <li>‚úÖ Batch upload multiple wallpapers</li>
                    </ul>
                </div>

                <form onsubmit="handleUpload(event)">
                    <!-- Drag & Drop Area -->
                    <div class="drag-drop-area" id="dragDropArea">
                        <div class="upload-icon">üìÅ</div>
                        <div class="upload-text">Drag & Drop Images Here</div>
                        <div class="upload-subtext">or click to browse files</div>
                        <input type="file" id="wallpaperFiles" class="file-input-hidden" accept="image/*" multiple>
                    </div>

                    <!-- Preview Grid -->
                    <div class="preview-grid" id="previewGrid"></div>

                    <!-- File Info Section -->
                    <div class="file-info-section" id="fileInfoSection">
                        <div class="file-info-grid" id="fileInfoGrid"></div>
                    </div>

                    <!-- Form Fields -->
                    <div id="formFields" style="display: none;">
                        <div class="form-group">
                            <label class="form-label">
                                Wallpaper Title
                                <span class="auto-detect-badge" id="titleBadge" style="display: none;">Auto-filled</span>
                            </label>
                            <input type="text" class="form-input" id="wallpaperTitle" required placeholder="Enter title">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select class="form-input" id="wallpaperCategory" required>
                                <option value="">Select Category</option>
                                <option value="cyberpunk">Cyberpunk</option>
                                <option value="abstract">Abstract</option>
                                <option value="minimal">Minimal</option>
                                <option value="nature">Nature</option>
                                <option value="luxury">Luxury</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                Resolution
                                <span class="auto-detect-badge" id="resolutionBadge" style="display: none;">Auto-detected</span>
                            </label>
                            <input type="text" class="form-input" id="wallpaperResolution" required placeholder="e.g., 1920x1080" readonly>
                        </div>

                        <!-- Quick Actions -->
                        <div class="quick-actions">
                            <button type="button" class="quick-action-btn" onclick="clearAllFiles()">üóëÔ∏è Clear All</button>
                            <button type="button" class="quick-action-btn" onclick="addMoreFiles()">‚ûï Add More</button>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="progress-bar" id="progressBar">
                        <div class="progress-fill" id="progressFill">0%</div>
                    </div>

                    <!-- Upload Queue -->
                    <div class="upload-queue" id="uploadQueue"></div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary" id="uploadBtn" style="width: 100%; margin-top: 1rem; display: none;">
                        <span id="uploadBtnText">üöÄ Upload Wallpaper(s)</span>
                    </button>
                    <div class="message" id="uploadMessage"></div>
                </form>
            </div>

            <div>
                <h2 class="section-subtitle">Your Wallpapers</h2>
                <div class="gallery-grid" id="adminGalleryGrid"></div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="wallpaperModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <img src="" alt="" class="modal-image" id="modalImage">
            <div class="modal-info">
                <h3 class="modal-title" id="modalTitle"></h3>
                <p style="color: var(--text-gray); margin-bottom: 1rem;" id="modalDetails"></p>
                <button class="btn btn-primary" id="modalDownloadBtn">Download</button>
            </div>
        </div>
    </div>

    <script>
// ==================== DATA ====================
let wallpapers = [
    {
        id: '1',
        title: 'Neon City',
        category: 'cyberpunk',
        resolution: '3840x2160',
        imageUrl: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?w=800',
        downloads: 245
    },
    {
        id: '2',
        title: 'Abstract Flow',
        category: 'abstract',
        resolution: '2560x1440',
        imageUrl: 'https://images.unsplash.com/photo-1557672172-298e090bd0f1?w=800',
        downloads: 189
    },
    {
        id: '3',
        title: 'Minimal Gradient',
        category: 'minimal',
        resolution: '1920x1080',
        imageUrl: 'https://images.unsplash.com/photo-1557682250-33bd709cbe85?w=800',
        downloads: 312
    },
    {
        id: '4',
        title: 'Mountain Vista',
        category: 'nature',
        resolution: '3840x2160',
        imageUrl: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800',
        downloads: 456
    },
    {
        id: '5',
        title: 'Gold Luxury',
        category: 'luxury',
        resolution: '2560x1440',
        imageUrl: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?w=800',
        downloads: 178
    },
    {
        id: '6',
        title: 'Cyber Grid',
        category: 'cyberpunk',
        resolution: '3840x2160',
        imageUrl: 'https://images.unsplash.com/photo-1518770660439-4636190af475?w=800',
        downloads: 289
    }
];

let displayedCount = 6;
let currentFilter = { category: 'all', resolution: 'all', search: '' };
let selectedFiles = [];

// ==================== THEME ====================
const themeToggle = document.getElementById('themeToggle');
const themeIcon = document.getElementById('themeIcon');
const html = document.documentElement;

const savedTheme = localStorage.getItem('theme') || 'dark';
html.setAttribute('data-theme', savedTheme);
themeIcon.textContent = savedTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';

themeToggle.addEventListener('click', () => {
    const currentTheme = html.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    html.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    themeIcon.textContent = newTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
});

// ==================== TOAST ====================
function showToast(message, type = 'success') {
    const container = document.getElementById('toastContainer');
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    const icons = { success: '‚úÖ', error: '‚ùå' };
    toast.innerHTML = `
        <span class="toast-icon">${icons[type]}</span>
        <span class="toast-message">${message}</span>
        <button class="toast-close" onclick="this.parentElement.remove()">√ó</button>
    `;
    container.appendChild(toast);
    setTimeout(() => toast.remove(), 5000);
}

// ==================== PAGE NAVIGATION ====================
function showPage(pageName) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(pageName + 'Page').classList.add('active');
    window.scrollTo(0, 0);
}

function scrollToGallery() {
    showPage('home');
    setTimeout(() => {
        document.querySelector('.gallery-grid').scrollIntoView({ behavior: 'smooth' });
    }, 100);
}

// ==================== AUTH ====================
function checkAuth() {
    const user = localStorage.getItem('currentUser');
    if (user) {
        const userData = JSON.parse(user);
        document.getElementById('loginNavLink').classList.add('hidden');
        document.getElementById('adminNavLink').classList.remove('hidden');
        document.getElementById('userBadge').classList.remove('hidden');
        document.getElementById('userEmail').textContent = userData.email;
    }
}

function switchTab(tab) {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.form-section').forEach(s => s.classList.remove('active'));
    event.target.classList.add('active');
    document.getElementById(tab + 'Section').classList.add('active');
}

async function handleLogin(e) {
    e.preventDefault();
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    const message = document.getElementById('loginMessage');
    const btn = document.getElementById('loginBtn');
    const btnText = document.getElementById('loginBtnText');
    
    btn.disabled = true;
    btnText.innerHTML = '<span class="spinner"></span> Logging in...';
    message.style.display = 'none';
    
    try {
        await new Promise(resolve => setTimeout(resolve, 1000));
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const user = users.find(u => u.email === email && u.password === btoa(password));
        
        if (user) {
            localStorage.setItem('currentUser', JSON.stringify({ id: user.id, name: user.name, email: user.email }));
            message.textContent = '‚úÖ Login successful!';
            message.className = 'message success';
            message.style.display = 'block';
            setTimeout(() => {
                checkAuth();
                showPage('admin');
            }, 1000);
        } else {
            throw new Error('Invalid email or password');
        }
    } catch (error) {
        message.textContent = `‚ùå ${error.message}`;
        message.className = 'message error';
        message.style.display = 'block';
    } finally {
        btn.disabled = false;
        btnText.textContent = 'Login';
    }
}

async function handleSignup(e) {
    e.preventDefault();
    const name = document.getElementById('signupName').value;
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirm = document.getElementById('signupConfirm').value;
    const message = document.getElementById('signupMessage');
    const btn = document.getElementById('signupBtn');
    const btnText = document.getElementById('signupBtnText');
    
    message.style.display = 'none';
    
    if (password !== confirm) {
        message.textContent = '‚ùå Passwords do not match';
        message.className = 'message error';
        message.style.display = 'block';
        return;
    }
    
    btn.disabled = true;
    btnText.innerHTML = '<span class="spinner"></span> Creating...';
    
    try {
        await new Promise(resolve => setTimeout(resolve, 1000));
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        
        if (users.find(u => u.email === email)) {
            throw new Error('Email already registered');
        }
        
        users.push({ id: Date.now(), name, email, password: btoa(password) });
        localStorage.setItem('users', JSON.stringify(users));
        
        message.textContent = '‚úÖ Account created! Please login.';
        message.className = 'message success';
        message.style.display = 'block';
        
        setTimeout(() => {
            switchTab('login');
            e.target.reset();
        }, 2000);
    } catch (error) {
        message.textContent = `‚ùå ${error.message}`;
        message.className = 'message error';
        message.style.display = 'block';
    } finally {
        btn.disabled = false;
        btnText.textContent = 'Create Account';
    }
}

function logout() {
    if (confirm('Logout?')) {
        localStorage.removeItem('currentUser');
        showToast('Logged out successfully');
        setTimeout(() => {
            location.reload();
        }, 1000);
    }
}

// ==================== ADVANCED UPLOAD ====================
const dragDropArea = document.getElementById('dragDropArea');
const fileInput = document.getElementById('wallpaperFiles');
const previewGrid = document.getElementById('previewGrid');
const fileInfoSection = document.getElementById('fileInfoSection');
const formFields = document.getElementById('formFields');
const uploadBtn = document.getElementById('uploadBtn');

// Click to browse
dragDropArea.addEventListener('click', () => fileInput.click());

// Drag & Drop events
dragDropArea.addEventListener('dragover', (e) => {
    e.preventDefault();
    dragDropArea.classList.add('dragover');
});

dragDropArea.addEventListener('dragleave', () => {
    dragDropArea.classList.remove('dragover');
});

dragDropArea.addEventListener('drop', (e) => {
    e.preventDefault();
    dragDropArea.classList.remove('dragover');
    const files = Array.from(e.dataTransfer.files).filter(f => f.type.startsWith('image/'));
    handleFiles(files);
});

// File input change
fileInput.addEventListener('change', (e) => {
    const files = Array.from(e.target.files);
    handleFiles(files);
});

function handleFiles(files) {
    if (files.length === 0) return;
    
    // Validate files
    const validFiles = files.filter(f => {
        if (!f.type.startsWith('image/')) {
            showToast(`${f.name} is not an image`, 'error');
            return false;
        }
        if (f.size > 10 * 1024 * 1024) {
            showToast(`${f.name} is too large (max 10MB)`, 'error');
            return false;
        }
        return true;
    });
    
    if (validFiles.length === 0) return;
    
    selectedFiles = validFiles;
    dragDropArea.classList.add('has-files');
    displayPreviews();
    showFileInfo();
    formFields.style.display = 'block';
    uploadBtn.style.display = 'block';
    
    // Auto-fill first file info
    if (validFiles.length === 1) {
        autoFillInfo(validFiles[0]);
    }
    
    showToast(`${validFiles.length} file(s) selected`, 'success');
}

function displayPreviews() {
    previewGrid.innerHTML = '';
    previewGrid.classList.add('show');
    
    selectedFiles.forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = (e) => {
            const img = new Image();
            img.onload = () => {
                const item = document.createElement('div');
                item.className = 'preview-item';
                item.innerHTML = `
                    <img src="${e.target.result}" class="preview-image" alt="${file.name}">
                    <div class="preview-info">
                        <div class="preview-name">${file.name}</div>
                        <div class="preview-size">${(file.size / 1024).toFixed(1)} KB</div>
                        <div class="preview-size">${img.width}x${img.height}</div>
                    </div>
                    <button class="preview-remove" onclick="removeFile(${index})" type="button">√ó</button>
                `;
                previewGrid.appendChild(item);
            };
            img.src = e.target.result;
        };
        reader.readAsDataURL(file);
    });
}

function showFileInfo() {
    fileInfoSection.classList.add('show');
    const totalSize = selectedFiles.reduce((sum, f) => sum + f.size, 0);
    document.getElementById('fileInfoGrid').innerHTML = `
        <div class="file-info-item">
            <span class="file-info-label">Total Files:</span>
            <span class="file-info-value">${selectedFiles.length}</span>
        </div>
        <div class="file-info-item">
            <span class="file-info-label">Total Size:</span>
            <span class="file-info-value">${(totalSize / 1024 / 1024).toFixed(2)} MB</span>
        </div>
        <div class="file-info-item">
            <span class="file-info-label">Status:</span>
            <span class="file-info-value">Ready to Upload</span>
        </div>
    `;
}

function autoFillInfo(file) {
    const reader = new FileReader();
    reader.onload = (e) => {
        const img = new Image();
        img.onload = () => {
            // Auto-fill resolution
            document.getElementById('wallpaperResolution').value = `${img.width}x${img.height}`;
            document.getElementById('resolutionBadge').style.display = 'inline-block';
            
            // Auto-fill title from filename
            const title = file.name.replace(/\.[^/.]+$/, '').replace(/[-_]/g, ' ');
            document.getElementById('wallpaperTitle').value = title;
            document.getElementById('titleBadge').style.display = 'inline-block';
        };
        img.src = e.target.result;
    };
    reader.readAsDataURL(file);
}

function removeFile(index) {
    selectedFiles.splice(index, 1);
    if (selectedFiles.length === 0) {
        clearAllFiles();
    } else {
        displayPreviews();
        showFileInfo();
    }
    showToast('File removed', 'success');
}

function clearAllFiles() {
    selectedFiles = [];
    previewGrid.innerHTML = '';
    previewGrid.classList.remove('show');
    fileInfoSection.classList.remove('show');
    formFields.style.display = 'none';
    uploadBtn.style.display = 'none';
    dragDropArea.classList.remove('has-files');
    fileInput.value = '';
    document.getElementById('wallpaperTitle').value = '';
    document.getElementById('wallpaperCategory').value = '';
    document.getElementById('wallpaperResolution').value = '';
    showToast('All files cleared', 'success');
}

function addMoreFiles() {
    fileInput.click();
}

async function handleUpload(e) {
    e.preventDefault();
    
    if (selectedFiles.length === 0) {
        showToast('Please select files first', 'error');
        return;
    }
    
    const title = document.getElementById('wallpaperTitle').value;
    const category = document.getElementById('wallpaperCategory').value;
    const resolution = document.getElementById('wallpaperResolution').value;
    
    const btn = document.getElementById('uploadBtn');
    const btnText = document.getElementById('uploadBtnText');
    const progressBar = document.getElementById('progressBar');
    const progressFill = document.getElementById('progressFill');
    const message = document.getElementById('uploadMessage');
    const uploadQueue = document.getElementById('uploadQueue');
    
    btn.disabled = true;
    btnText.innerHTML = '<span class="spinner"></span> Uploading...';
    progressBar.classList.add('show');
    uploadQueue.classList.add('show');
    message.style.display = 'none';
    
    try {
        const stored = JSON.parse(localStorage.getItem('wallpapers') || '[]');
        
        for (let i = 0; i < selectedFiles.length; i++) {
            const file = selectedFiles[i];
            const progress = ((i + 1) / selectedFiles.length) * 100;
            
            // Update queue
            uploadQueue.innerHTML = `
                <div class="queue-item">
                    <div class="queue-icon">üì§</div>
                    <div class="queue-info">
                        <div class="queue-name">${file.name}</div>
                        <div class="queue-status">Uploading ${i + 1} of ${selectedFiles.length}...</div>
                        <div class="queue-progress">
                            <div class="queue-progress-fill" style="width: ${progress}%"></div>
                        </div>
                    </div>
                </div>
            `;
            
            // Simulate upload
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // Read file
            const reader = new FileReader();
            await new Promise((resolve) => {
                reader.onload = (e) => {
                    const img = new Image();
                    img.onload = () => {
                        stored.unshift({
                            id: Date.now().toString() + i,
                            title: selectedFiles.length === 1 ? title : `${title} ${i + 1}`,
                            category,
                            resolution: `${img.width}x${img.height}`,
                            imageUrl: e.target.result,
                            downloads: 0
                        });
                        resolve();
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            });
            
            progressFill.style.width = progress + '%';
            progressFill.textContent = Math.round(progress) + '%';
        }
        
        localStorage.setItem('wallpapers', JSON.stringify(stored));
        wallpapers = [...stored, ...wallpapers.filter(w => parseInt(w.id) < 100)];
        
        message.textContent = `‚úÖ ${selectedFiles.length} wallpaper(s) uploaded successfully!`;
        message.className = 'message success';
        message.style.display = 'block';
        
        clearAllFiles();
        renderGallery();
        renderAdminGallery();
        updateStats();
        
        setTimeout(() => {
            progressBar.classList.remove('show');
            uploadQueue.classList.remove('show');
            progressFill.style.width = '0%';
        }, 2000);
        
    } catch (error) {
        message.textContent = `‚ùå ${error.message}`;
        message.className = 'message error';
        message.style.display = 'block';
    } finally {
        btn.disabled = false;
        btnText.textContent = 'üöÄ Upload Wallpaper(s)';
    }
}

// ==================== GALLERY ====================
function renderGallery() {
    const grid = document.getElementById('galleryGrid');
    let filtered = wallpapers.filter(w => {
        const catMatch = currentFilter.category === 'all' || w.category === currentFilter.category;
        const resMatch = currentFilter.resolution === 'all' || w.resolution === currentFilter.resolution;
        const searchMatch = currentFilter.search === '' || 
            w.title.toLowerCase().includes(currentFilter.search.toLowerCase());
        return catMatch && resMatch && searchMatch;
    });
    
    const toShow = filtered.slice(0, displayedCount);
    
    if (toShow.length === 0) {
        grid.innerHTML = '<p style="text-align: center; color: var(--text-gray); grid-column: 1/-1;">No wallpapers found</p>';
        return;
    }
    
    grid.innerHTML = toShow.map(w => `
        <div class="wallpaper-card" onclick="openModal('${w.id}')">
            <img src="${w.imageUrl}" alt="${w.title}" class="wallpaper-image">
            <div class="wallpaper-overlay">
                <h3 class="wallpaper-title">${w.title}</h3>
                <div class="wallpaper-info">
                    <span>${w.category}</span>
                    <span>${w.resolution}</span>
                </div>
                <div class="wallpaper-actions">
                    <button class="btn btn-primary" onclick="event.stopPropagation(); downloadWallpaper('${w.id}')">Download</button>
                </div>
            </div>
        </div>
    `).join('');
    
    document.getElementById('loadMoreBtn').style.display = displayedCount >= filtered.length ? 'none' : 'inline-block';
}

function renderAdminGallery() {
    const grid = document.getElementById('adminGalleryGrid');
    const stored = JSON.parse(localStorage.getItem('wallpapers') || '[]');
    
    if (stored.length === 0) {
        grid.innerHTML = '<p style="text-align: center; color: var(--text-gray); grid-column: 1/-1;">No wallpapers uploaded yet</p>';
        return;
    }
    
    grid.innerHTML = stored.map(w => `
        <div class="wallpaper-card">
            <img src="${w.imageUrl}" alt="${w.title}" class="wallpaper-image">
            <div class="wallpaper-overlay">
                <h3 class="wallpaper-title">${w.title}</h3>
                <div class="wallpaper-info">
                    <span>${w.category}</span>
                    <span>${w.resolution}</span>
                </div>
                <div class="wallpaper-actions">
                    <button class="btn btn-danger" onclick="deleteWallpaper('${w.id}')">Delete</button>
                </div>
            </div>
        </div>
    `).join('');
}

function searchWallpapers() {
    currentFilter.search = document.getElementById('searchInput').value;
    displayedCount = 6;
    renderGallery();
}

function filterWallpapers() {
    currentFilter.category = document.getElementById('categoryFilter').value;
    currentFilter.resolution = document.getElementById('resolutionFilter').value;
    displayedCount = 6;
    renderGallery();
}

function loadMore() {
    displayedCount += 6;
    renderGallery();
}

function downloadWallpaper(id) {
    const wallpaper = wallpapers.find(w => w.id === id);
    if (!wallpaper) return;
    
    const link = document.createElement('a');
    link.href = wallpaper.imageUrl;
    link.download = `${wallpaper.title.replace(/\s+/g, '-')}.jpg`;
    link.target = '_blank';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    
    wallpaper.downloads++;
    updateStats();
    showToast('Download started!');
}

function deleteWallpaper(id) {
    if (!confirm('Delete this wallpaper?')) return;
    
    let stored = JSON.parse(localStorage.getItem('wallpapers') || '[]');
    stored = stored.filter(w => w.id !== id);
    localStorage.setItem('wallpapers', JSON.stringify(stored));
    wallpapers = wallpapers.filter(w => w.id !== id);
    
    renderGallery();
    renderAdminGallery();
    updateStats();
    showToast('Wallpaper deleted');
}

// ==================== MODAL ====================
function openModal(id) {
    const wallpaper = wallpapers.find(w => w.id === id);
    if (!wallpaper) return;
    
    document.getElementById('modalImage').src = wallpaper.imageUrl;
    document.getElementById('modalTitle').textContent = wallpaper.title;
    document.getElementById('modalDetails').textContent = `${wallpaper.resolution} ‚Ä¢ ${wallpaper.category} ‚Ä¢ ${wallpaper.downloads} downloads`;
    document.getElementById('modalDownloadBtn').onclick = () => downloadWallpaper(id);
    document.getElementById('wallpaperModal').classList.add('active');
}

function closeModal() {
    document.getElementById('wallpaperModal').classList.remove('active');
}

// ==================== STATS ====================
function updateStats() {
    const stored = JSON.parse(localStorage.getItem('wallpapers') || '[]');
    const total = wallpapers.length;
    const totalDownloads = wallpapers.reduce((sum, w) => sum + w.downloads, 0);
    
    document.getElementById('totalWallpapers').textContent = total;
    document.getElementById('totalDownloads').textContent = totalDownloads;
    document.getElementById('adminTotalWallpapers').textContent = stored.length;
    document.getElementById('adminTotalDownloads').textContent = totalDownloads;
}

// ==================== INIT ====================
document.addEventListener('DOMContentLoaded', () => {
    const stored = JSON.parse(localStorage.getItem('wallpapers') || '[]');
    wallpapers = [...stored, ...wallpapers];
    
    checkAuth();
    renderGallery();
    renderAdminGallery();
    updateStats();
});
    </script>
</body>
</html>